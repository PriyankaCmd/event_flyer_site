<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tech Quiz Competition</title>
  <link rel="stylesheet" href="style.css">
  <style>
  .hero {
         padding: 100px 20px;
         text-align: center;
         color: white; 
          background: rgba(0,0,0,0.4); 
          border-radius: 10px;
          margin: 40px;
      }

      .hero h1 {
          font-size: 3em;
          color: #00bfff; 
          text-shadow: 0 0 10px #00bfff, 0 0 20px #0099cc; 
      }

      .hero p {
        font-size: 1.2em;
         margin-top: 10px;
         text-shadow: 1px 1px 6px rgba(0,0,0,0.7);
     }
     section {
  padding: 30px;
}

/* Slideshow */
.slideshow {
  position: relative;
  max-width: 600px;
  margin: 20px auto;
  border-radius: 10px;
  overflow: hidden;
}
.slideshow img {
  width: 100%;
  display: none;
}
.slideshow img.active {
  display: block;
}

 </style>

</head>
<body>
  <div id="header"></div>
  <div class="hero">
    <h1>Welcome to the Tech Quiz Competition</h1>
    <p>Join us for an exciting quiz challenge on all things tech!</p>
  </div>
  
  <section class="flyer">
  <h2>ðŸ“¢ Event Flyer</h2>
  
  <div class="slideshow">
    <img src="images/flyer-placeholder.png" alt="Event Flyer" class="active">
    <img src="images/flyer2.png" alt="Event Flyer 2">
  </div>
<div id="flyer-details"></div>
 
  <a href="register.html" class="btn">Register Now</a>
</section>

  <div id="footer"></div>

  <script>
async function loadFlyer() {
  try {
    // Fetch flyer.json relative to the HTML page
    const response = await fetch('./flyer.json'); 
    if (!response.ok) throw new Error('flyer.json not found');

    const flyerData = await response.json();

    // Hero section
    const heroH1 = document.querySelector(".hero h1");
    const heroP = document.querySelector(".hero p");
    if(heroH1) heroH1.textContent = flyerData.title || "Event Title";
    if(heroP) heroP.textContent = flyerData.subtitle || "";

    // Slideshow
    const slideshow = document.querySelector(".slideshow");
    if(slideshow) {
      slideshow.innerHTML = "";
      flyerData.images.forEach((src, i) => {
        const img = document.createElement("img");
        img.src = src;
        if(i === 0) img.classList.add("active");
        slideshow.appendChild(img);
      });

      // Slideshow rotation
      let index = 0;
      setInterval(() => {
        const slides = document.querySelectorAll(".slideshow img");
        slides.forEach((img, i) => img.classList.toggle("active", i === index));
        index = (index + 1) % slides.length;
      }, 3000);
    }

    // Flyer details
    const detailsDiv = document.getElementById("flyer-details");
    if(detailsDiv) {
      detailsDiv.innerHTML = `
        <p><strong>Date:</strong> ${flyerData.date}</p>
        <p><strong>Time:</strong> ${flyerData.time}</p>
        <p><strong>Venue:</strong> ${flyerData.venue}</p>
        <p><strong>Organized by:</strong> ${flyerData.organizer}</p>
        <div>
          <iframe src="${flyerData.mapEmbed}" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
        </div>
      `;
    }

    // Register button
    const btn = document.querySelector(".btn");
    if(btn) btn.href = flyerData.registrationLink || "#";

  } catch (error) {
    console.error("Error loading flyer:", error);
    const detailsDiv = document.getElementById("flyer-details");
    if(detailsDiv) detailsDiv.innerHTML = "<p>Unable to load event details.</p>";
  }
}

// Load header/footer first, then flyer
async function loadPage() {
  try {
    const headerHtml = await fetch('./header.html').then(r=>r.text());
    document.getElementById("header").innerHTML = headerHtml;
  } catch { console.warn("Header not found"); }

  try {
    const footerHtml = await fetch('./footer.html').then(r=>r.text());
    document.getElementById("footer").innerHTML = footerHtml;
  } catch { console.warn("Footer not found"); }

  await loadFlyer();
}

document.addEventListener("DOMContentLoaded", loadPage);
</script>


</body>
</html>





